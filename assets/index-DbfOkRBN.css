:root{--color-intro: #d1e9ff;--color-seq: #fff4cc;--color-cause-effect: #ffdada;--color-example-detail: #e2fcd4;--color-conclusion: #f3e5f5;--color-intro-text: #004085;--color-seq-text: #856404;--color-cause-effect-text: #721c24;--color-example-detail-text: #155724;--color-conclusion-text: #4a148c;--bg-app: #f8fafc;--bg-card: #ffffff;--border-color: #e2e8f0;--text-primary: #1e293b;--text-secondary: #64748b;--accent: #3b82f6;--accent-hover: #2563eb;--spacing-lg: 2rem;--spacing-md: 1rem;--spacing-sm: .5rem;--font-size-text: 1.25rem;--font-size-title: 2rem;--font-size-bank: 1.1rem}body{margin:0;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;background-color:var(--bg-app);color:var(--text-primary);line-height:1.6}#root{max-width:1000px;margin:0 auto;padding:var(--spacing-lg)}.container{display:flex;flex-direction:column;gap:var(--spacing-lg)}h1{font-size:var(--font-size-title);text-align:center;margin-bottom:var(--spacing-md);color:var(--text-primary)}.mentor-area{background:var(--bg-card);padding:var(--spacing-lg);border-radius:12px;box-shadow:0 4px 6px -1px #0000001a}.paragraph{margin-bottom:var(--spacing-md)}.sentence-card{display:inline-block;padding:4px 8px;margin:4px;border-radius:6px;cursor:pointer;border:4px solid transparent;transition:all .2s ease;font-size:var(--font-size-text)}.sentence-card:hover{transform:translateY(-2px);filter:brightness(.95)}.sentence-card.selected{border-color:var(--accent);box-shadow:0 0 0 2px #fff,0 0 0 6px var(--accent)}.sentence-card.reading{animation:pulse 1.5s infinite;box-shadow:0 0 0 4px #fbbf24}@keyframes pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.function-intro{background-color:var(--color-intro);color:var(--color-intro-text)}.function-seq{background-color:var(--color-seq);color:var(--color-seq-text)}.function-cause_effect{background-color:var(--color-cause-effect);color:var(--color-cause-effect-text)}.function-example_detail{background-color:var(--color-example-detail);color:var(--color-example-detail-text)}.function-conclusion{background-color:var(--color-conclusion);color:var(--color-conclusion-text)}.mentor-area.paragraph-canvas{background:#fff;background-image:linear-gradient(var(--border-color) 1px,transparent 1px);background-size:100% 1.8em;padding:3rem;border-radius:4px;line-height:1.8;box-shadow:0 4px 15px #0000000d;border:1px solid var(--border-color)}.paragraph{margin-bottom:2rem;text-align:justify}.sentence-item{display:inline;padding:2px 4px;margin:0;border-radius:4px;border:none;font-size:1.3rem;line-height:1.8;transition:background-color .2s;text-decoration:none;position:relative}.mentor-card{cursor:grab}.mentor-card:hover,.bank-card:hover{background-color:#3b82f60d}.mentor-card.selected{background-color:#3b82f61a;box-shadow:0 0 0 1px var(--accent)}.sentence-item.mentor-card.drag-over{background-color:transparent;box-shadow:none;transform:none}.sentence-item.mentor-card.drag-over:before,.sentence-item.mentor-card.drag-over:after{content:"";position:absolute;top:0;bottom:0;width:3px;background:var(--accent);opacity:0;transition:opacity .2s;box-shadow:0 0 6px var(--accent)}.sentence-item.mentor-card.drag-over[style*="--insert: 0"]:before{left:-4px;opacity:1}.sentence-item.mentor-card.drag-over[style*="--insert: 1"]:after{right:-4px;opacity:1}.insertion-point{display:inline-block;width:12px;height:1.5em;margin:0 -4px;vertical-align:middle;transition:all .1s ease;position:relative;z-index:5;cursor:crosshair}.insertion-point.active{width:12px;margin:0 6px}.insertion-point.active:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:3px;background:var(--accent);border-radius:2px;transform:translate(-50%);box-shadow:0 0 6px var(--accent);animation:blink 1s infinite}@keyframes blink{50%{opacity:.3}}.resize-divider{height:12px;background:var(--bg-app);cursor:ns-resize;width:100%;display:flex;align-items:center;justify-content:center;position:relative;z-index:20;border-top:1px solid var(--border-color);border-bottom:1px solid var(--border-color)}.resize-divider:hover{background:#e2e8f0}.drag-handle{width:40px;height:4px;background:var(--text-secondary);border-radius:2px;opacity:.5}.bank-area{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:var(--spacing-md);z-index:100;overflow-y:auto;box-shadow:0 -10px 20px #0000001a;display:flex;flex-direction:column}.container{padding-bottom:400px}.bank-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-md);position:sticky;top:0;background:#fff;padding:4px 0;z-index:5}.bank-sections{display:flex;flex-direction:column;gap:var(--spacing-lg)}.bank-section h3{font-size:1.1rem;color:var(--text-secondary);margin-bottom:var(--spacing-sm);border-bottom:1px solid var(--border-color);padding-bottom:4px}.bank-grid{display:flex;flex-wrap:wrap;gap:var(--spacing-md)}.selection-prompt{background:#fffbeb;border:2px solid #fbbf24;color:#92400e;padding:var(--spacing-md);margin-bottom:var(--spacing-md);border-radius:8px;display:flex;align-items:center;gap:8px;font-weight:600;animation:slideIn .3s ease-out}@keyframes slideIn{0%{transform:translateY(-10px);opacity:0}to{transform:translateY(0);opacity:1}}.bank-edit-inline{display:block;min-width:100px;min-height:1.5em;outline:none}.bank-edit-i.bank-grid{display:flex;flex-direction:column;gap:var(--spacing-sm)}.bank-card{width:100%;display:block;text-align:left;background:#fff;border-bottom:1px solid var(--border-color);padding:8px 12px;border-radius:0;cursor:grab}.bank-card:hover{background-color:#3b82f60d}.bank-card.editing{box-shadow:0 0 0 2px var(--accent)}.function-none{background-color:#f1f5f9;color:var(--text-primary)}.bank-card[draggable=true]:active{cursor:grabbing;opacity:.5}.sentence-card,.bank-card{line-height:1.8}.hotspot{background-color:#3b82f633;border-bottom:2px dashed var(--accent);padding:2px 4px;cursor:text}.hotspot:focus{outline:none;background-color:#3b82f666}.warning-badge{position:absolute;top:-10px;right:-10px;background:#fbbf24;color:#92400e;font-size:.75rem;padding:2px 8px;border-radius:12px;font-weight:700;border:2px solid white}.controls{display:flex;justify-content:center;gap:var(--spacing-md);margin-bottom:var(--spacing-md)}button{padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;border:none;transition:background .2s;font-size:1rem}button.primary{background:var(--accent);color:#fff}button.primary:hover{background:var(--accent-hover)}button.secondary{background:#e2e8f0;color:#1e293b}button.secondary:hover{background:#cbd5e1}.finish-view{background:#fff;padding:3rem;border-radius:16px;box-shadow:0 10px 15px -3px #0000001a;max-width:800px;margin:0 auto}.finish-text{font-size:1.5rem;line-height:1.8;white-space:pre-wrap}.finish-text p{margin-bottom:1.5rem}.modal{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:100}.mentor-card{position:relative;transition:all .2s ease}.mentor-card.drag-over{background-color:var(--accent-light);transform:scale(1.02);border:2px dashed var(--accent)}.mentor-remove-btn{position:absolute;top:-10px;right:-10px;background:#fff;border:1px solid var(--border-color);color:#ef4444;border-radius:50%;padding:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s ease,transform .2s ease;z-index:10;box-shadow:0 2px 4px #0000001a}.mentor-card:hover .mentor-remove-btn{opacity:1}.mentor-remove-btn:hover{transform:scale(1.2);background:#fee2e2}.bank-card[draggable=true]{cursor:grab}.bank-card[draggable=true]:active{cursor:grabbing}.bank-card input{width:100%;font-size:var(--font-size-bank);border:1px solid var(--accent);padding:4px;border-radius:4px}.insertion-point{display:inline-block;width:12px;height:2em;margin:0 -6px;vertical-align:middle;transition:all .2s ease;position:relative;z-index:5}.insertion-point.active{width:20px;margin:0 4px}.insertion-point.active:after{content:"";position:absolute;left:50%;top:0;bottom:0;width:4px;background:var(--accent);border-radius:2px;transform:translate(-50%)}.discourse-chunk{border:2px dashed #94a3b8;padding:1.5rem;margin-bottom:1.5rem;border-radius:8px;position:relative;transition:all .2s ease;background:#ffffff80}.discourse-chunk:before{content:attr(data-label);position:absolute;top:-10px;left:10px;background:#f1f5f9;padding:0 8px;font-size:.8rem;font-weight:700;color:#64748b;border-radius:4px}.mode-discourse .discourse-chunk{cursor:grab}.mode-discourse .discourse-chunk:hover{border-color:var(--accent);background:#3b82f605}.mode-discourse .discourse-chunk.dragging{opacity:.5;background:#f8fafc;cursor:grabbing}.mode-discourse .discourse-chunk.drag-target{border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-light, #bfdbfe)}.mode-discourse .paragraph-canvas{display:flex;flex-direction:column;gap:1rem}
